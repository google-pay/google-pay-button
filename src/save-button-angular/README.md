# Save to Google Pay Angular button

This is the Angular component for the Save to Google Pay button.

## Installation

```sh
npm install @google-pay/save-button-angular
```

Import the module into your application:

```ts
import { SaveToGooglePayButtonModule } from '@google-pay/save-button-angular';

@NgModule({
  // ...
  imports: [ /* ... */ SaveToGooglePayButtonModule],
  // ...
})
```

## Example usage: Angular website

```html
<save-to-google-pay-button jwt="eyJhbGci...7_eD2kT3_IuHxw" height="standard" textsize="large">
</save-to-google-pay-button>
```

More Angular examples can be found in the
[examples folder](https://github.com/google-pay/save-to-google-pay-button/tree/main/examples/angular/src/app) of this
repository.

Try it out on [StackBlitz](https://stackblitz.com/edit/google-pay-angular).

## Documentation

### Properties

<table>
  <tr>
    <th align="left">Property</th>
    <th align="left">Type</th>
    <th align="left">Remarks</th>
  </tr>
  <tr>
    <td><p>jwt</p></td>
    <td><p><code>string</code></p></td>
    <td>
      <p>Required.</p>
      <p>Google Pay API for Passes Json Web Token (JWT) used to save the loyalty pass to Google Pay.</p>
      <p>A JWT can be generated by following the instructions at the <a href="https://developers.google.com/pay/passes/guides/implement-the-api/save-passes-to-google-pay#generate-jwt-that-represents-object">Save passes to Google Pay</a> page.</p>
    </td>
  </tr>
  <tr>
    <td><p>height</p></td>
    <td><p><code>"small" | "standard"</code></p></td>
    <td>
      <p>Optional.</p>
      <p>Height of button to display. Possible values are: <code>small</code> (30px high) and <code>standard</code> (38px high). The height defaults to <code>small</code>. Refer to <a href="https://developers.google.com/pay/passes/reference/uxguidelines#s2w">Google Pay API for Passes buttons</a> to see samples of buttons with different <code>height</code> settings.</p>
      <p>Default value <code>"small"</code>.</p>
    </td>
  </tr>
  <tr>
    <td><p>size</p></td>
    <td><p><code>"matchparent" | undefined</code></p></td>
    <td>
      <p>Optional.</p>
      <p>Width of button to display. You can set <code>size</code> to <code>matchparent</code> to have the width match the width of the parent element. Refer to <a href="https://developers.google.com/pay/passes/reference/uxguidelines#s2w">Google Pay API for Passes buttons</a> to see samples of buttons with different <code>size</code> settings.</p>
      <p>Default value <code>undefined</code>.</p>
    </td>
  </tr>
  <tr>
    <td><p>textsize</p></td>
    <td><p><code>"large" | undefined</code></p></td>
    <td>
      <p>Optional.</p>
      <p>When <code>textsize</code> of <code>large</code> is specified, displays dramatically increased text size and button size, for cases with special UI requirements.</p>
      <p>Default value <code>undefined</code>.</p>
    </td>
  </tr>
  <tr>
    <td><p>theme</p></td>
    <td><p><code>"dark" | "light"</code></p></td>
    <td>
      <p>Optional.</p>
      <p>Theme of button to display. Possible values are: <code>dark</code> and <code>light</code>. The default theme is <code>dark</code>. Refer to <a href="https://developers.google.com/pay/passes/reference/uxguidelines#s2w">Google Pay API for Passes buttons</a> to see samples of buttons with different <code>theme</code> settings.</p>
      <p>Default value <code>"dark"</code>.</p>
    </td>
  </tr>
</table>

### Callbacks/events

<table>
  <tr>
    <th align="left">Callback</th>
    <th align="left">Remarks</th>
  </tr>
  <tr>
    <td>
      <p>onSuccess<br /><em>successCallback</em></p>
    </td>
    <td>
      <p>A callback function that is invoked when the user successfully saves the pass to their account.</p>
      <p>Also raised as event <code>"success"</code>.</p>
    </td>
  </tr>
  <tr>
    <td>
      <p>onFailure<br /><em>failureCallback</em></p>
    </td>
    <td>
      <p>A callback that is invoked when an error occurs in the process of saving the pass. The first paramemer is a <code>CustomEvent</code> where the <code>detail</code> property describes the details of the error.</p>
      <p>Also raised as event <code>"failure"</code>.</p>
    </td>
  </tr>
  <tr>
    <td>
      <p>onProvideJwt<br /><em>provideJwtCallback</em></p>
    </td>
    <td>
      <p>A callback function that can be used to intercept and potentially manipulate the JWT before the pass is saved to Google Pay. This function must return a <code>string</code>.</p>
    </td>
  </tr>
</table>

Visit the
[Google Pay API for Passes for Web API Reference](https://developers.google.com/pay/passes/reference/s2w-reference) for
more information about integrating the different button properties.

## About this package

Note that this folder does not contain a `package.json` file. The `package.json` file is generated during the build
process using the `package-template.json` where the version number is read from the [`package.json`](../../package.json)
file defined in the root of this repository.
